!function(n){n.preload=function(e,t,r){var i=[],o=function(n){for(var e=0;e<i.length;e++)if(i[e].src===n.src)return i[e];return i.push(n),n},f=function(n,e,t){"function"==typeof e&&e.call(n,t)};return function(e,t,r){if("undefined"!=typeof e){"string"==typeof e&&(e=[e]),2===arguments.length&&"function"==typeof t&&(r=t,t=0);var i=e.length,u;if(t>0&&i>t&&(u=e.slice(t,i),e=e.slice(0,t),i=e.length),!i)return void f(e,r,!0);for(var a=arguments.callee,c=0,l=function(){c++,c===i&&(f(e,r,!u),a(u,t,r))},s,d=0;d<e.length;d++)s=new Image,s.src=e[d],s=o(s),s.complete?l():n(s).on("load error",l)}}}();var e=function(e){var t=[],r=new RegExp("url\\(['\"]?([^\"')]*)['\"]?\\)","i"),i,o,f,u;return e=e.find("*").add(e),e.each(function(){for(i=n(this).css("backgroundImage"),i=i.split(", "),u=0;u<i.length;u++)o=i[u],-1===o.indexOf("about:blank")&&-1===o.indexOf("data:image")&&(f=r.exec(o),f&&t.push(f[1]));"IMG"===this.nodeName&&t.push(this.src)}),t};n.fn.preload=function(t){var r=this,i=e(r);return n.preload(i,function(){"function"==typeof t&&t.call(r.get())}),this}}(jQuery);